@use "../abstracts/breakpoints" as *;
@use "../abstracts/mixins" as *;

.sidebar {
    @include for-viewport-size(phone) {
        // /* no sidebar on mobile layout */
        // display: contents;

        // &__status {
        //     border-bottom: 1px dashed var(--color-base);
        //     padding-bottom: var(--spacing-100);
        // }

        // &__directories {
        //     border-bottom: 1px dashed var(--color-base);
        //     padding-bottom: var(--spacing-100);
        // }

        // &__theme-toggle {
        //     border: none;
        //     padding: var(--spacing-025);
        // }
    }

    @include for-viewport-size(desktop) {
        display: grid;

        row-gap: var(--spacing-100);

        /* the primary (left)  sidebars */
        &_major {
            grid-area: major-sidebar;
            grid-template-areas:
                "navi"
                "theme-toggle"
                "directories"
                "support";
            grid-template-rows:
                min-content
                var(--spacing-200)
                auto
                auto;
            grid-template-columns: min-content;
        }

        /* and the secondary (right) sidebar */
        &_minor {
            grid-area: minor-sidebar;
            grid-template-areas:
                "status"
                "site-log";
            grid-template-rows:
                min-content
                auto;
            grid-template-columns: auto;
        }

        &__section {
            min-height: 0;
            min-width: fit-content;
            overflow-y: auto;

            @include layout-border();
            @include layout-padding();
        }

        &__navi {
            min-height: 0;
            min-width: min-content;

            overflow-y: auto;
        }

        &__directories {
            min-height: 0;
            overflow-y: auto;
        }

        &__support {
            min-height: 0;
            overflow-y: auto;
        }
    }
}

.site-log {
    grid-area: site-log;
    // this is scuffed but rn idk a better way to do it LMAO
    #site-log {
        max-height: 1rem;
        // overflow-y: auto;
    }
}
